import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { useState, useEffect } from "react";
import IconButton from "@mui/joy/IconButton";
import Stack from "@mui/joy/Stack";
import Grid from "@mui/joy/Grid";
import Typography from "@mui/joy/Typography";
import Tooltip from "@mui/joy/Tooltip";
import SyncIcon from "@mui/icons-material/Sync";
import PowerSettingsNewIcon from "@mui/icons-material/PowerSettingsNew";
import AddToDriveIcon from "@mui/icons-material/AddToDrive";
import SettingsIcon from "@mui/icons-material/Settings";
import { sign, startWS, sendNewConfig } from "../LogicCore/webSocketCommunication";
import SettingsModal from "./SettingsModal";
import CloudOffIcon from "@mui/icons-material/CloudOff";
import CloudDoneIcon from "@mui/icons-material/CloudDone";
import ErrorOutlineIcon from "@mui/icons-material/ErrorOutline";
import Box from "@mui/joy/Box";
export default function MainModal() {
    const [valor, SetValor] = useState(false);
    const [settingsOpen, setSettingsOpen] = useState(false);
    const [config, setConfig] = useState({ port: 5000, folder: "" });
    const [connection, setConnection] = useState("offline");
    const [files, setFiles] = useState([]);
    useEffect(() => {
        startWS();
        const unsign = sign((cache) => {
            setFiles([...cache]);
        });
        return () => unsign();
    }, []);
    const getConnectionIcon = () => {
        if (valor) {
            return _jsx(CloudDoneIcon, { color: "success" });
        }
        else {
            return (_jsxs(Stack, Object.assign({ direction: "row", alignItems: "center", spacing: 1 }, { children: [_jsx(CloudOffIcon, { color: "error" }), _jsx(ErrorOutlineIcon, { color: "warning" })] })));
        }
    };
    return (_jsxs(_Fragment, { children: [_jsxs(Stack, Object.assign({ sx: {
                    width: "100%",
                    p: 2,
                    position: "relative",
                    maxHeight: "calc(100vh - 200px)",
                } }, { children: [_jsx(Stack, Object.assign({ spacing: 2, sx: {
                            flexGrow: 1,
                            overflowY: "auto",
                            pr: 2,
                            pb: 2,
                        } }, { children: files.map((file, index) => (_jsxs(Grid, Object.assign({ container: true, alignItems: "center", spacing: 2, sx: {
                                borderBottom: index !== files.length - 1
                                    ? "1px solid"
                                    : "none",
                                borderColor: "neutral.outlinedBorder",
                                pb: 1,
                            } }, { children: [_jsx(Grid, Object.assign({ xs: 2 }, { children: _jsx(IconButton, Object.assign({ size: "sm", variant: "plain" }, { children: _jsx(AddToDriveIcon, {}) })) })), _jsxs(Grid, Object.assign({ xs: 10 }, { children: [_jsx(Typography, Object.assign({ level: "body-sm" }, { children: file.name })), _jsxs(Typography, Object.assign({ level: "body-xs", color: "neutral" }, { children: ["Loaded in ", file.location, " \u2014 ", file.time] }))] }))] }), index))) })), _jsx(Box, Object.assign({ sx: {
                            position: "sticky",
                            bottom: 0,
                            left: 0,
                            width: "100%",
                            pb: 2,
                            pt: 2,
                            backgroundColor: "var(--joy-palette-background-level1)",
                            zIndex: 1,
                            boxSizing: "border-box",
                        } }, { children: _jsxs(Stack, Object.assign({ direction: "row", justifyContent: "space-between", alignItems: "center", spacing: 2 }, { children: [_jsxs(Stack, Object.assign({ direction: "row", alignItems: "center", spacing: 2 }, { children: [_jsxs(Typography, Object.assign({ fontSize: "sm", sx: { color: "#FFFFFF" } }, { children: ["Your vault's are ", connection] })), getConnectionIcon()] })), _jsxs(Stack, Object.assign({ direction: "row", spacing: 2 }, { children: [_jsx(Tooltip, Object.assign({ title: "Settings" }, { children: _jsx(IconButton, Object.assign({ color: "primary", variant: "solid", onClick: () => setSettingsOpen(true) }, { children: _jsx(SettingsIcon, {}) })) })), _jsx(Tooltip, Object.assign({ title: "Restart the service" }, { children: _jsx(IconButton, Object.assign({ color: "warning", variant: "solid" }, { children: _jsx(PowerSettingsNewIcon, {}) })) })), _jsx(Tooltip, Object.assign({ title: "Resync all files" }, { children: _jsx(IconButton, Object.assign({ onClick: () => {
                                                    var wc = startWS(config.port);
                                                }, color: "success", variant: "solid" }, { children: _jsx(SyncIcon, {}) })) }))] }))] })) }))] })), _jsx(SettingsModal, { open: settingsOpen, onClose: () => setSettingsOpen(false), onSave: sendNewConfig(config) })] }));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWFpbk1vZGFsLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL01haW5Nb2RhbC5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBRTVDLE9BQU8sVUFBVSxNQUFNLHFCQUFxQixDQUFDO0FBQzdDLE9BQU8sS0FBSyxNQUFNLGdCQUFnQixDQUFDO0FBQ25DLE9BQU8sSUFBSSxNQUFNLGVBQWUsQ0FBQztBQUNqQyxPQUFPLFVBQVUsTUFBTSxxQkFBcUIsQ0FBQztBQUM3QyxPQUFPLE9BQU8sTUFBTSxrQkFBa0IsQ0FBQztBQUV2QyxPQUFPLFFBQVEsTUFBTSwwQkFBMEIsQ0FBQztBQUNoRCxPQUFPLG9CQUFvQixNQUFNLHNDQUFzQyxDQUFDO0FBQ3hFLE9BQU8sY0FBYyxNQUFNLGdDQUFnQyxDQUFDO0FBQzVELE9BQU8sWUFBWSxNQUFNLDhCQUE4QixDQUFDO0FBQ3hELE9BQU8sRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHFDQUFxQyxDQUFDO0FBQ25GLE9BQU8sYUFBYSxNQUFNLGlCQUFpQixDQUFDO0FBQzVDLE9BQU8sWUFBWSxNQUFNLDhCQUE4QixDQUFDO0FBQ3hELE9BQU8sYUFBYSxNQUFNLCtCQUErQixDQUFDO0FBQzFELE9BQU8sZ0JBQWdCLE1BQU0sa0NBQWtDLENBQUM7QUFDaEUsT0FBTyxHQUFHLE1BQU0sY0FBYyxDQUFDO0FBRS9CLE1BQU0sQ0FBQyxPQUFPLFVBQVUsU0FBUztJQUNoQyxNQUFNLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMxQyxNQUFNLENBQUMsWUFBWSxFQUFFLGVBQWUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN4RCxNQUFNLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxF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LENBQUM7Z0RBRy9CLENBQUMsRUFDRCxLQUFLLEVBQUMsU0FBUyxFQUNmLE9BQU8sRUFBQyxPQUFPLGdCQUVmLEtBQUMsUUFBUSxLQUFHLElBQ0EsSUFDSixLQUNILEtBQ0QsSUFDSCxLQUNDLEVBRVIsS0FBQyxhQUFhLElBQ2IsSUFBSSxFQUFFLFlBQVksRUFDbEIsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsRUFDckMsTUFBTSxFQUFFLGFBQWEsQ0FBQyxNQUFNLENBQUMsR0FDNUIsSUFDQSxDQUNILENBQUM7QUFDSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJAbXVpL2pveS9CdXR0b25cIjtcclxuaW1wb3J0IEljb25CdXR0b24gZnJvbSBcIkBtdWkvam95L0ljb25CdXR0b25cIjtcclxuaW1wb3J0IFN0YWNrIGZyb20gXCJAbXVpL2pveS9TdGFja1wiO1xyXG5pbXBvcnQgR3JpZCBmcm9tIFwiQG11aS9qb3kvR3JpZFwiO1xyXG5pbXBvcnQgVHlwb2dyYXBoeSBmcm9tIFwiQG11aS9qb3kvVHlwb2dyYXBoeVwiO1xyXG5pbXBvcnQgVG9vbHRpcCBmcm9tIFwiQG11aS9qb3kvVG9vbHRpcFwiO1xyXG5pbXBvcnQgeyBSZWZyZXNoLCBSZXBsYXkgfSBmcm9tIFwiQG11aS9pY29ucy1tYXRlcmlhbFwiO1xyXG5pbXBvcnQgU3luY0ljb24gZnJvbSBcIkBtdWkvaWNvbnMtbWF0ZXJpYWwvU3luY1wiO1xyXG5pbXBvcnQgUG93ZXJTZXR0aW5nc05ld0ljb24gZnJvbSBcIkBtdWkvaWNvbnMtbWF0ZXJpYWwvUG93ZXJTZXR0aW5nc05ld1wiO1xyXG5pbXBvcnQgQWRkVG9Ecml2ZUljb24gZnJvbSBcIkBtdWkvaWNvbnMtbWF0ZXJpYWwvQWRkVG9Ecml2ZVwiO1xyXG5pbXBvcnQgU2V0dGluZ3NJY29uIGZyb20gXCJAbXVpL2ljb25zLW1hdGVyaWFsL1NldHRpbmdzXCI7XHJcbmltcG9ydCB7IHNpZ24sIHN0YXJ0V1MsIHNlbmROZXdDb25maWcgfSBmcm9tIFwiLi4vTG9naWNDb3JlL3dlYlNvY2tldENvbW11bmljYXRpb25cIjtcclxuaW1wb3J0IFNldHRpbmdzTW9kYWwgZnJvbSBcIi4vU2V0dGluZ3NNb2RhbFwiO1xyXG5pbXBvcnQgQ2xvdWRPZmZJY29uIGZyb20gXCJAbXVpL2ljb25zLW1hdGVyaWFsL0Nsb3VkT2ZmXCI7XHJcbmltcG9ydCBDbG91ZERvbmVJY29uIGZyb20gXCJAbXVpL2ljb25zLW1hdGVyaWFsL0Nsb3VkRG9uZVwiO1xyXG5pbXBvcnQgRXJyb3JPdXRsaW5lSWNvbiBmcm9tIFwiQG11aS9pY29ucy1tYXRlcmlhbC9FcnJvck91dGxpbmVcIjtcclxuaW1wb3J0IEJveCBmcm9tIFwiQG11aS9qb3kvQm94XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNYWluTW9kYWwoKSB7XHJcblx0Y29uc3QgW3ZhbG9yLCBTZXRWYWxvcl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblx0Y29uc3QgW3NldHRpbmdzT3Blbiwgc2V0U2V0dGluZ3NPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHRjb25zdCBbY29uZmlnLCBzZXRDb25maWddID0gdXNlU3RhdGUoeyBwb3J0OiA1MDAwLCBmb2xkZXI6IFwiXCIgfSk7XHJcblx0Y29uc3QgW2Nvbm5lY3Rpb24sIHNldENvbm5lY3Rpb25dID0gdXNlU3RhdGUoXCJvZmZsaW5lXCIpO1xyXG4gICAgY29uc3RbZmlsZXMsIHNldEZpbGVzXSA9IHVzZVN0YXRlKFtdKTtcclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgc3RhcnRXUygpOyBcclxuXHJcbiAgICBjb25zdCB1bnNpZ24gPSBzaWduKChjYWNoZSkgPT4ge1xyXG4gICAgICBzZXRGaWxlcyhbLi4uY2FjaGVdKTsgXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4gdW5zaWduKCk7XHJcbiAgfSwgW10pO1xyXG4gIFxyXG5cdGNvbnN0IGdldENvbm5lY3Rpb25JY29uID0gKCkgPT4ge1xyXG5cdFx0aWYgKHZhbG9yKSB7XHJcblx0XHRcdHJldHVybiA8Q2xvdWREb25lSWNvbiBjb2xvcj1cInN1Y2Nlc3NcIiAvPjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiAoXHJcblx0XHRcdFx0PFN0YWNrIGRpcmVjdGlvbj1cInJvd1wiIGFsaWduSXRlbXM9XCJjZW50ZXJcIiBzcGFjaW5nPXsxfT5cclxuXHRcdFx0XHRcdDxDbG91ZE9mZkljb24gY29sb3I9XCJlcnJvclwiIC8+XHJcblx0XHRcdFx0XHQ8RXJyb3JPdXRsaW5lSWNvbiBjb2xvcj1cIndhcm5pbmdcIiAvPlxyXG5cdFx0XHRcdDwvU3RhY2s+XHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0cmV0dXJuIChcclxuXHRcdDw+XHJcblx0XHRcdDxTdGFja1xyXG5cdFx0XHRcdHN4PXt7XHJcblx0XHRcdFx0XHR3aWR0aDogXCIxMDAlXCIsXHJcblx0XHRcdFx0XHRwOiAyLFxyXG5cdFx0XHRcdFx0cG9zaXRpb246IFwicmVsYXRpdmVcIixcclxuXHRcdFx0XHRcdG1heEhlaWdodDogXCJjYWxjKDEwMHZoIC0gMjAwcHgpXCIsXHJcblx0XHRcdFx0fX1cclxuXHRcdFx0PlxyXG5cdFx0XHRcdDxTdGFja1xyXG5cdFx0XHRcdFx0c3BhY2luZz17Mn1cclxuXHRcdFx0XHRcdHN4PXt7XHJcblx0XHRcdFx0XHRcdGZsZXhHcm93OiAxLFxyXG5cdFx0XHRcdFx0XHRvdmVyZmxvd1k6IFwiYXV0b1wiLFxyXG5cdFx0XHRcdFx0XHRwcjogMixcclxuXHRcdFx0XHRcdFx0cGI6IDIsXHJcblx0XHRcdFx0XHR9fVxyXG5cdFx0XHRcdD5cclxuXHRcdFx0XHRcdHtmaWxlcy5tYXAoKGZpbGUsIGluZGV4KSA9PiAoXHJcblx0XHRcdFx0XHRcdDxHcmlkXHJcblx0XHRcdFx0XHRcdFx0a2V5PXtpbmRleH1cclxuXHRcdFx0XHRcdFx0XHRjb250YWluZXJcclxuXHRcdFx0XHRcdFx0XHRhbGlnbkl0ZW1zPVwiY2VudGVyXCJcclxuXHRcdFx0XHRcdFx0XHRzcGFjaW5nPXsyfVxyXG5cdFx0XHRcdFx0XHRcdHN4PXt7XHJcblx0XHRcdFx0XHRcdFx0XHRib3JkZXJCb3R0b206XHJcblx0XHRcdFx0XHRcdFx0XHRcdGluZGV4ICE9PSBmaWxlcy5sZW5ndGggLSAxXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PyBcIjFweCBzb2xpZFwiXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0OiBcIm5vbmVcIixcclxuXHRcdFx0XHRcdFx0XHRcdGJvcmRlckNvbG9yOiBcIm5ldXRyYWwub3V0bGluZWRCb3JkZXJcIixcclxuXHRcdFx0XHRcdFx0XHRcdHBiOiAxLFxyXG5cdFx0XHRcdFx0XHRcdH19XHJcblx0XHRcdFx0XHRcdD5cclxuXHRcdFx0XHRcdFx0XHQ8R3JpZCB4cz17Mn0+XHJcblx0XHRcdFx0XHRcdFx0XHQ8SWNvbkJ1dHRvbiBzaXplPVwic21cIiB2YXJpYW50PVwicGxhaW5cIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PEFkZFRvRHJpdmVJY29uIC8+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L0ljb25CdXR0b24+XHJcblx0XHRcdFx0XHRcdFx0PC9HcmlkPlxyXG5cdFx0XHRcdFx0XHRcdDxHcmlkIHhzPXsxMH0+XHJcblx0XHRcdFx0XHRcdFx0XHQ8VHlwb2dyYXBoeSBsZXZlbD1cImJvZHktc21cIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0e2ZpbGUubmFtZX1cclxuXHRcdFx0XHRcdFx0XHRcdDwvVHlwb2dyYXBoeT5cclxuXHRcdFx0XHRcdFx0XHRcdDxUeXBvZ3JhcGh5IGxldmVsPVwiYm9keS14c1wiIGNvbG9yPVwibmV1dHJhbFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRMb2FkZWQgaW4ge2ZpbGUubG9jYXRpb259IOKAlCB7ZmlsZS50aW1lfVxyXG5cdFx0XHRcdFx0XHRcdFx0PC9UeXBvZ3JhcGh5PlxyXG5cdFx0XHRcdFx0XHRcdDwvR3JpZD5cclxuXHRcdFx0XHRcdFx0PC9HcmlkPlxyXG5cdFx0XHRcdFx0KSl9XHJcblx0XHRcdFx0PC9TdGFjaz5cclxuXHRcdFx0XHQ8Qm94XHJcblx0XHRcdFx0XHRzeD17e1xyXG5cdFx0XHRcdFx0XHRwb3NpdGlvbjogXCJzdGlja3lcIixcclxuXHRcdFx0XHRcdFx0Ym90dG9tOiAwLFxyXG5cdFx0XHRcdFx0XHRsZWZ0OiAwLFxyXG5cdFx0XHRcdFx0XHR3aWR0aDogXCIxMDAlXCIsXHJcblx0XHRcdFx0XHRcdHBiOiAyLFxyXG5cdFx0XHRcdFx0XHRwdDogMixcclxuXHRcdFx0XHRcdFx0YmFja2dyb3VuZENvbG9yOiBcInZhcigtLWpveS1wYWxldHRlLWJhY2tncm91bmQtbGV2ZWwxKVwiLFxyXG5cdFx0XHRcdFx0XHR6SW5kZXg6IDEsXHJcblx0XHRcdFx0XHRcdGJveFNpemluZzogXCJib3JkZXItYm94XCIsXHJcblx0XHRcdFx0XHR9fVxyXG5cdFx0XHRcdD5cclxuXHRcdFx0XHRcdDxTdGFja1xyXG5cdFx0XHRcdFx0XHRkaXJlY3Rpb249XCJyb3dcIlxyXG5cdFx0XHRcdFx0XHRqdXN0aWZ5Q29udGVudD1cInNwYWNlLWJldHdlZW5cIlxyXG5cdFx0XHRcdFx0XHRhbGlnbkl0ZW1zPVwiY2VudGVyXCJcclxuXHRcdFx0XHRcdFx0c3BhY2luZz17Mn1cclxuXHRcdFx0XHRcdD5cclxuXHRcdFx0XHRcdFx0PFN0YWNrIGRpcmVjdGlvbj1cInJvd1wiIGFsaWduSXRlbXM9XCJjZW50ZXJcIiBzcGFjaW5nPXsyfT5cclxuXHRcdFx0XHRcdFx0XHQ8VHlwb2dyYXBoeVxyXG5cdFx0XHRcdFx0XHRcdFx0Zm9udFNpemU9e1wic21cIn1cclxuXHRcdFx0XHRcdFx0XHRcdHN4PXt7IGNvbG9yOiBcIiNGRkZGRkZcIiB9fVxyXG5cdFx0XHRcdFx0XHRcdD5cclxuXHRcdFx0XHRcdFx0XHRcdFlvdXIgdmF1bHQncyBhcmUge2Nvbm5lY3Rpb259XHJcblx0XHRcdFx0XHRcdFx0PC9UeXBvZ3JhcGh5PlxyXG5cdFx0XHRcdFx0XHRcdHtnZXRDb25uZWN0aW9uSWNvbigpfVxyXG5cdFx0XHRcdFx0XHQ8L1N0YWNrPlxyXG5cclxuXHRcdFx0XHRcdFx0PFN0YWNrIGRpcmVjdGlvbj1cInJvd1wiIHNwYWNpbmc9ezJ9PlxyXG5cdFx0XHRcdFx0XHRcdDxUb29sdGlwIHRpdGxlPVwiU2V0dGluZ3NcIj5cclxuXHRcdFx0XHRcdFx0XHRcdDxJY29uQnV0dG9uXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbG9yPVwicHJpbWFyeVwiXHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhcmlhbnQ9XCJzb2xpZFwiXHJcblx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHNldFNldHRpbmdzT3Blbih0cnVlKX1cclxuXHRcdFx0XHRcdFx0XHRcdD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PFNldHRpbmdzSWNvbiAvPlxyXG5cdFx0XHRcdFx0XHRcdFx0PC9JY29uQnV0dG9uPlxyXG5cdFx0XHRcdFx0XHRcdDwvVG9vbHRpcD5cclxuXHJcblx0XHRcdFx0XHRcdFx0PFRvb2x0aXAgdGl0bGU9XCJSZXN0YXJ0IHRoZSBzZXJ2aWNlXCI+XHJcblx0XHRcdFx0XHRcdFx0XHQ8SWNvbkJ1dHRvbiBjb2xvcj1cIndhcm5pbmdcIiB2YXJpYW50PVwic29saWRcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PFBvd2VyU2V0dGluZ3NOZXdJY29uIC8+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L0ljb25CdXR0b24+XHJcblx0XHRcdFx0XHRcdFx0PC9Ub29sdGlwPlxyXG5cclxuXHRcdFx0XHRcdFx0XHQ8VG9vbHRpcCB0aXRsZT1cIlJlc3luYyBhbGwgZmlsZXNcIj5cclxuXHRcdFx0XHRcdFx0XHRcdDxJY29uQnV0dG9uXHJcblx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgd2MgPSBzdGFydFdTKGNvbmZpZy5wb3J0KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0fX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29sb3I9XCJzdWNjZXNzXCJcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyaWFudD1cInNvbGlkXCJcclxuXHRcdFx0XHRcdFx0XHRcdD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PFN5bmNJY29uIC8+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L0ljb25CdXR0b24+XHJcblx0XHRcdFx0XHRcdFx0PC9Ub29sdGlwPlxyXG5cdFx0XHRcdFx0XHQ8L1N0YWNrPlxyXG5cdFx0XHRcdFx0PC9TdGFjaz5cclxuXHRcdFx0XHQ8L0JveD5cclxuXHRcdFx0PC9TdGFjaz5cclxuXHJcblx0XHRcdDxTZXR0aW5nc01vZGFsXHJcblx0XHRcdFx0b3Blbj17c2V0dGluZ3NPcGVufVxyXG5cdFx0XHRcdG9uQ2xvc2U9eygpID0+IHNldFNldHRpbmdzT3BlbihmYWxzZSl9XHJcblx0XHRcdFx0b25TYXZlPXtzZW5kTmV3Q29uZmlnKGNvbmZpZyl9XHJcblx0XHRcdC8+XHJcblx0XHQ8Lz5cclxuXHQpO1xyXG59XHJcbiJdfQ==